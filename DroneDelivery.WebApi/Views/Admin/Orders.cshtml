@model List<DroneDelivery.WebApi.Controllers.AdminOrderRow>
@{
    ViewData["Title"] = "Admin Orders";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"]</title>
    <style>
        body { font-family: system-ui, sans-serif; background: #f6f7fb; margin: 0; }
        header { display: flex; justify-content: space-between; align-items: center; padding: 16px 20px; background: #1f4b99; color: #fff; }
        header h1 { margin: 0; font-size: 18px; }
        header form button { background: #fff; color: #1f4b99; border: 0; padding: 8px 12px; border-radius: 6px; font-weight: 600; }
        .wrap { max-width: 1100px; margin: 20px auto; padding: 0 16px; }
        table { width: 100%; border-collapse: collapse; background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,.06); }
        th, td { text-align: left; padding: 12px 10px; border-bottom: 1px solid #eef1f5; vertical-align: top; }
        th { background: #f0f3f8; font-size: 12px; text-transform: uppercase; letter-spacing: .04em; }
        .muted { color: #666; font-size: 12px; }
    </style>
</head>
<body>
    <header>
        <h1>Orders</h1>
        <form method="post" action="/admin/logout">
            <button type="submit">Logout</button>
        </form>
    </header>
    <div class="wrap">
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Scheduled At</th>
                    <th>Email</th>
                    <th>Address</th>
                    <th>Status</th>
                    <th>Weight (kg)</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Id</td>
                        <td>@(item.ScheduledAt?.ToString("yyyy-MM-dd") ?? "-")</td>
                        <td>@item.Email</td>
                        <td>
                            @if (item.Address is null)
                            {
                                <span class="muted">Unknown</span>
                            }
                            else
                            {
                                <div>@item.Address.Label</div>
                                <div class="muted">@item.Address.Street, @item.Address.City</div>
                                <div class="muted">@item.Address.Country</div>
                            }
                        </td>
                        <td>@item.Status</td>
                        <td>@item.TotalWeightKg</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</body>
</html>
